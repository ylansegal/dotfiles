#!/usr/bin/env bash
# Regenerate ctags

# Ensure ctags Brew is being used. The Apple version is very old
command -v ctags | grep "/usr/local/" &> /dev/null
if [ $? == 0 ]; then
  # Only run one ctags process for this directory at the time.
  # Otherwise the ctags file is corrupted
  lockfile .ctags.lock

  echo "$(tput setaf 3)Git Hook:$(tput sgr 0) Creating ctags"
  ctags -R --exclude='*.js' > /dev/null 2>&1 &

  rm -f .ctags.lock
fi
